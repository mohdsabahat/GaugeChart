!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.GaugeChart=e():t.GaugeChart=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{CreateChart:()=>r});var i=function(t,e){for(var n in e)e[n]instanceof Object&&n in t&&Object.assign(e[n],i(t[n],e[n]));return Object.assign(t||{},e),t};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}const r=function(){return t=function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.context=e.getContext("2d"),this.defaultOptions={startAngle:-Math.PI,endAngle:0,thickness:10,value:{display:!0,fontSize:20,color:"#000",value:50,text:function(){return o.options.value.value},padding:{top:0,bottom:0,left:0,right:0}},title:{display:!1,text:"Gauge Chart",color:"#000",fontSize:26,padding:{bottom:10}},animation:{animate:!0,animationSpeed:1.5},needle:{needleColor:"#000",needleWidth:2}},this.options=i(this.defaultOptions,null==n?void 0:n.options),this.centerX=this.canvas.width/2,this.centerY=3*this.canvas.height/4,this.options.radius=Math.min(e.width,e.height)/2-this.options.thickness-10},(e=[{key:"renderChart",value:function(){var t;if(null!==(t=this.options.animation)&&void 0!==t&&t.animate)this._animateRenderChart();else{this.drawTitle(),this.drawRegions();var e=this.options.startAngle+(this.options.endAngle-this.options.startAngle)*this.options.value.value/100;this.drawNeedle(e),this.drawValueLabel()}}},{key:"clearCanvas",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"createGradient",value:function(t,e,i){var n=this.context.createLinearGradient(this.centerX+this.options.radius*Math.cos(e),this.centerY+this.options.radius*Math.sin(e),this.centerX+this.options.radius*Math.cos(i),this.centerY+this.options.radius*Math.sin(i));return n.addColorStop(0,t.startColor),n.addColorStop(1,t.endColor),n}},{key:"drawTitle",value:function(){var t,e;if(null!==(t=this.options)&&void 0!==t&&null!==(t=t.title)&&void 0!==t&&t.display){this.context.fillStyle=null===(e=this.options)||void 0===e||null===(e=e.title)||void 0===e?void 0:e.color,this.context.font="".concat(this.options.title.fontSize,"px Arial"),this.context.textAlign="center",this.context.textBaseline="middle";var i=this.centerY-this.options.radius-this.options.thickness-this.options.title.padding.bottom;this.context.fillText(this.options.title.text,this.centerX,i)}}},{key:"drawArc",value:function(t,e,i){var n=this.createGradient(i,t,e);this.context.strokeStyle=n,this.context.beginPath(),this.context.arc(this.centerX,this.centerY,this.options.radius,t,e),this.context.lineWidth=this.options.thickness,this.context.stroke()}},{key:"drawRegions",value:function(){var t,e=this;if(null!==(t=this.options)&&void 0!==t&&t.regions){var i,n=this.options.startAngle;this.options.regions.forEach((function(t,o){i=n+(e.options.endAngle-e.options.startAngle)*t.area,e.drawArc(n,i,t),n=i}));var o=this.centerX-this.options.radius,s=this.centerY,r=this.options.thickness/2;this.context.beginPath(),this.context.arc(o,s,r,0,-Math.PI),this.context.lineWidth=this.options.thickness/2,this.context.fillStyle=this.options.regions[0].startColor,this.context.fill(),this.context.beginPath(),this.context.arc(o+2*this.options.radius,s,r,0,Math.PI),this.context.lineWidth=this.options.thickness/2,this.context.fillStyle=this.options.regions[this.options.regions.length-1].endColor,this.context.fill()}else console.error("Regions are not defined")}},{key:"drawNeedle",value:function(t){var e,i,n,o=this.options.radius,s=this.centerX+o*Math.cos(t),r=this.centerY+o*Math.sin(t);this.context.beginPath(),this.context.moveTo(this.centerX,this.centerY),this.context.lineTo(s,r),this.context.lineWidth=this.options.needle.needleWidth,this.context.strokeStyle=this.options.needle.needleColor,this.context.stroke(),this.context.beginPath(),this.context.arc(this.centerX,this.centerY,null===(e=this.options)||void 0===e?void 0:e.needle.needleWidth,0,2*Math.PI),this.context.fillStyle="#fff",this.context.fill(),this.context.strokeStyle="#000",this.context.lineWidth=this.options.needle.needleWidth,this.context.stroke(),this.context.beginPath(),this.context.arc(s,r,null===(i=this.options)||void 0===i?void 0:i.needle.needleWidth,0,2*Math.PI),this.context.fillStyle="#fff",this.context.fill(),this.context.strokeStyle="#000",this.context.lineWidth=null===(n=this.options)||void 0===n?void 0:n.needle.needleWidth,this.context.stroke()}},{key:"drawValueLabel",value:function(){var t,e;this.context.fillStyle=this.options.value.color,this.context.font="".concat(this.options.value.fontSize,"px Arial"),this.context.textAlign="center",this.context.textBaseline="middle",e=(e=null!==(t=this.options.value)&&void 0!==t&&t.text?"function"==typeof this.options.value.text?this.options.value.text(this.options.value.value):this.options.value.text:this.options.value.value).toString();for(var i=this.canvas.width-20,n=e.split(" "),o="",s=[],r=0;r<n.length;r++){var a=o+n[r]+" ";this.context.measureText(a).width>i&&r>0?(s.push(o),o=n[r]+" "):o=a}s.push(o);for(var l=this.options.value.fontSize+5,h=this.centerY+20+this.options.value.padding.top-(s.length-1)*l/2,c=0;c<s.length;c++)this.context.fillText(s[c],this.centerX,h+c*l)}},{key:"_animateRenderChart",value:function(){var t=this,e=this.options.startAngle+this.options.value.value/100*(this.options.endAngle-this.options.startAngle),i=null,n=function(o){i||(i=o);var s=(o-i)/1e3,r=t.options.startAngle+Math.min(s*t.options.animation.animationSpeed,1)*(e-t.options.startAngle);t.clearCanvas(),t.drawTitle(),t.drawRegions(),t.drawNeedle(r),t.drawValueLabel(),s<1&&requestAnimationFrame(n)};requestAnimationFrame(n)}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();return e})()));